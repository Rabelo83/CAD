---
name: cad-template
description: Scaffold a new CAD part project with standard folder structure, measurement notes template, and starter OpenSCAD or CadQuery file.
argument-hint: [part name]
allowed-tools:
  - Write
  - Bash
---

# CAD Part Project Template

You are scaffolding a new part project with a clean, consistent structure.

## Workflow

1. **Get the part name** from `$ARGUMENTS`. Convert to kebab-case for the folder and snake_case for files.
2. **Create the folder structure** under `parts/<part-name>/`.
3. **Generate starter files** with parametric placeholders ready for the user to fill in.

## Folder Structure

```
parts/<part-name>/
  <part_name>.scad          # OpenSCAD parametric model (primary)
  <part_name>.py            # CadQuery script (optional, for STEP export)
  measurements.md           # Measurement notes and reference info
  ref/                      # Reference images folder
```

## measurements.md Template

```markdown
# <Part Name> - Measurements

## Reference
- Source: [describe where measurements came from]
- Tool: [caliper / ruler / reference image]
- Date: <today's date>

## Dimensions (mm)
| Feature       | Measurement | Tolerance | Notes          |
|---------------|-------------|-----------|----------------|
| Overall length|             | +/- 0.2   |                |
| Overall width |             | +/- 0.2   |                |
| Overall height|             | +/- 0.2   |                |
|               |             |           |                |

## Fit & Interface Notes
- Mating parts: [list any parts this connects to]
- Fit type: [clearance / snap / press]
- Clearance: [value in mm]

## Print Settings (Flashforge AD5X)
- **Max build**: 220 x 220 x 220mm
- Material: PLA / PETG / TPU 95A / PLA-CF / PETG-CF
- Colors: [1-4, via IFS multi-color system]
- Layer height: 0.2mm (or 0.12mm for fine detail)
- Nozzle: 0.4mm (min wall: 0.8mm)
- Infill: 20%
- Supports: yes / no
- Orientation: [description]

## Reference Images
Place reference images in the `ref/` subfolder and list them here:
- [ ] `ref/photo_front.jpg`
- [ ] `ref/photo_side.jpg`
```

## Starter OpenSCAD File

```openscad
// Part: <Part Name>
// Description: <to be filled in>
// Author: Generated by Claude Code
// Units: mm

// === Parameters (fill in from measurements.md) ===
length = 10;    // TODO: update from measurements
width = 10;     // TODO: update from measurements
height = 10;    // TODO: update from measurements
wall = 1.2;     // wall thickness
tol = 0.2;      // 3D print tolerance

// === Resolution ===
$fn = 64;

// === Main Part ===
module <part_name>() {
    // TODO: build geometry here
    cube([length, width, height]);
}

// === Render ===
<part_name>();
```

## After Scaffolding

Tell the user:
1. Add reference images to `parts/<part-name>/ref/`
2. Fill in `measurements.md` with caliper/ruler measurements
3. Use `/part-gen` to flesh out the OpenSCAD model once measurements are ready
4. Use `/dim-view` to create a dimensioned 2D drawing when done

## Output Checklist

- [ ] Folder created at `parts/<part-name>/`
- [ ] `<part_name>.scad` starter file created
- [ ] `measurements.md` template created
- [ ] `ref/` folder created
- [ ] User given next-steps instructions
