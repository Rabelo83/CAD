---
name: dim-view
description: Create 2D dimensioned technical drawings as SVG files. Generates orthographic views with dimension lines, labels, and annotations for 3D-printed parts.
argument-hint: [part name or description with key dimensions]
allowed-tools:
  - Write
  - Edit
  - Read
---

# 2D Dimensioned View Generator

You are creating a clean, technical 2D dimensioned drawing in SVG format.

## Workflow

1. **Parse the request**: Get the part name, key dimensions, and which views are needed.
2. **Determine views**: Default to Front + Top + Right side. The user may request fewer.
3. **Generate the SVG** with proper dimension lines, extension lines, and labels.
4. **Save** to `parts/<part-name>/<part_name>_dimensions.svg`.

## SVG Drawing Standards

### Layout
- Canvas size: 297mm x 210mm (A4 landscape) mapped to viewBox
- Scale: Auto-fit the part within the drawing area with margins
- Views arranged in third-angle projection:
  - Top view: upper-left
  - Front view: lower-left
  - Right view: lower-right
- Title block: bottom-right corner

### Style
- Part outlines: black, 0.5mm stroke
- Hidden lines: gray dashed, 0.25mm stroke
- Dimension lines: dark blue (#003366), 0.2mm stroke
- Dimension text: 3mm height, sans-serif font
- Extension lines: extend 2mm past dimension line, 1mm gap from part
- Arrowheads: filled triangles, 1.5mm length
- Center lines: red dash-dot, 0.15mm stroke

### Title Block Fields
- Part Name
- Scale (e.g., 2:1, 1:1)
- Units: mm
- Date
- "Generated by Claude Code"

## SVG Template Structure

```svg
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 297 210">
  <defs>
    <marker id="arrow" ...> <!-- arrowhead --> </marker>
    <style>
      .outline { stroke: #000; stroke-width: 0.5; fill: none; }
      .hidden { stroke: #888; stroke-width: 0.25; stroke-dasharray: 2,1; fill: none; }
      .dim-line { stroke: #003366; stroke-width: 0.2; marker-start: url(#arrow); marker-end: url(#arrow); }
      .dim-text { font-family: sans-serif; font-size: 3px; fill: #003366; text-anchor: middle; }
      .center { stroke: #c00; stroke-width: 0.15; stroke-dasharray: 4,1,1,1; }
      .title { font-family: sans-serif; font-size: 4px; fill: #000; }
    </style>
  </defs>

  <!-- Top View -->
  <g transform="translate(30, 20)">
    <!-- part geometry -->
    <!-- dimension lines -->
  </g>

  <!-- Front View -->
  <g transform="translate(30, 110)">
    <!-- part geometry -->
    <!-- dimension lines -->
  </g>

  <!-- Right View -->
  <g transform="translate(180, 110)">
    <!-- part geometry -->
    <!-- dimension lines -->
  </g>

  <!-- Title Block -->
  <g transform="translate(200, 185)">
    <!-- title block content -->
  </g>
</svg>
```

## Dimension Line Helper

For a horizontal dimension between x1 and x2, at height y with offset dy:

```svg
<!-- Extension lines -->
<line x1="x1" y1="y" x2="x1" y2="y+dy" class="dim-line" style="marker-start:none;marker-end:none"/>
<line x1="x2" y1="y" x2="x2" y2="y+dy" class="dim-line" style="marker-start:none;marker-end:none"/>
<!-- Dimension line -->
<line x1="x1" y1="y+dy-2" x2="x2" y2="y+dy-2" class="dim-line"/>
<!-- Label -->
<text x="(x1+x2)/2" y="y+dy-3" class="dim-text">VALUE</text>
```

## Output Checklist

- [ ] SVG saved to `parts/<part-name>/` directory
- [ ] All key dimensions labeled
- [ ] Views properly arranged (third-angle projection)
- [ ] Title block filled in
- [ ] File opens correctly in any browser
